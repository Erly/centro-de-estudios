<?xml version="1.0" encoding="UTF-8"?>
<project name="Centro de Estudios" default="todo">

    <target name="todo" depends="empaqueta, documenta">
    </target>
    
    <target name="empaqueta" depends="compila">
        <jar destfile="../jar/Centro de Estudios.jar" basedir="../class" manifest="../class/MANIFEST.MF"/>
    </target>
    
    <target name="compila" depends="generarversion">
        <!--delete file="../jar/Centro de Estudios.jar"/>
    	<delete file="../class/MANIFEST.MF"/>-->
    	<manifest file="../class/MANIFEST.MF">
    		   <attribute name="Built-By" value="${user.name}"/>
    	       <attribute name="Main-Class" value="modelo.Main"/>
    	</manifest>
    	
        <javac srcdir="./" destdir="../class"/>
    </target>
	
	<target name="generarversion">
		<tstamp>
			  <format property="TODAY" pattern="yyyyMMd" locale="SPANISH, ENGLISH" />
		</tstamp>
		<echo file="./datos/VERSION.java">package datos;

public class VERSION{
    //Clase auto-generada por el script Build.xml usando ant.
    public static final int MAJOR = 0;
    public static final int MINOR = 1;
	public static final int BUILD = ${TODAY};
}
		</echo>
	</target>
    
    <target name="documenta">
        <javadoc sourcepath="." destdir="../javadoc" packagenames="*"/>
    </target>
</project>
